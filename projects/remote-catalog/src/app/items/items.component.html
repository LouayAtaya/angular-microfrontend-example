<nz-layout>
    <nz-header>
      <div class="d-flex justify-content-between align-items-center">
        <h5 class="flex-grow-1 p-0">{{ 'المنتجات'}}</h5>
        <div class="buttons">
          <button nz-button nzType="dashed" nzPrimary><span class="actions-icon" nz-icon nzType="appstore" nzTheme="outline"></span>
            التصنيفات</button>
          <button nz-button nzType="dashed" nzPrimary><span class="actions-icon" nz-icon nzType="check-circle" nzTheme="outline"></span>
            العلامات التجارية</button>
          <button nz-button nzType="dashed" nzPrimary><span class="actions-icon" nz-icon nzType="unordered-list" nzTheme="outline"></span>
            قوائم الأسعار</button>
          <button nz-button nzType="primary" style="color:white;" nzPrimary><span class="actions-icon" nz-icon nzType="plus"
              nzTheme="outline"></span> إضافة
            منتج</button>
        </div>
      </div>
    </nz-header>
  
    <nz-content>
      <div class="inner-content">
        <div class="top-content">
          <div class="filters">
  
            <div class="search-input">
              <ng-template #suffixIconSearch>
                  <span nz-icon nzType="search"></span>
              </ng-template>
              <nz-input-group [nzSuffix]="suffixIconSearch">
                  <input type="text" #searchText nz-input placeholder="البحث"/>
              </nz-input-group>
          </div>
  <!--
            <div class="search-input">
              <span class="actions-icon" nz-icon nzType="search"></span>
              <input type="text" nz-input placeholder="البحث" />
            </div> -->
  
            <div class="action-menus">
              <div class="categories">
                <button class="select-all-shape" nz-button nz-dropdown [nzDropdownMenu]="categories">
                  التصنيفات
                  <span nz-icon nzType="down"></span>
                </button>
                <nz-dropdown-menu #categories="nzDropdownMenu">
                  <ul nz-menu>
                    <li nz-menu-item>
                      <a></a>
                    </li>
                  </ul>
                </nz-dropdown-menu>
              </div>
              <div class="month">
                <button class="select-all-shape" nz-button nz-dropdown>
                  <span class="actions-icon" nz-icon nzType="calendar" nzTheme="outline"></span>
                  الشهر الحالي
                </button>
              </div>
              <div class="filter">
                <button class="select-all-shape" nz-button nz-dropdown [nzPlacement]="'bottomCenter'"
                  [nzDropdownMenu]="searchFilter"  [nzTrigger]="'click'" [nzClickHide]="false" >
                  <span class="actions-icon" nz-icon nzType="filter" nzTheme="outline"></span>
                  فلترة البحث
                </button>
                <nz-dropdown-menu #searchFilter="nzDropdownMenu">
                  <div class="filterMenu" nz-menu>
                    <div class="filterMenuTitle">
                      <h5>فلترة البحث</h5>
                    </div>
                    <div class="filterMenuItem" nz-menu-item>
                      <span>المضاف لها ضريبة</span>
                      <label class="p-0 m-0">
                  <input class="toggle-checkbox" type="checkbox">
                  <div class="toggle-switch"></div>
                </label>
                    </div>
                    <div class="filterMenuItem" nz-menu-item>
                      <span>لها تتبع مخزون</span>
                      <label class="p-0 m-0">
                  <input class="toggle-checkbox" type="checkbox">
                  <div class="toggle-switch"></div>
                </label>
                    </div>
                    <div class="filterMenuItem" nz-menu-item>
                      <span>المضاف لها باركود</span>
                      <label class="p-0 m-0">
                  <input class="toggle-checkbox" type="checkbox">
                  <div class="toggle-switch"></div>
                </label>
                    </div>
                    <div class="filterMenuItem" nz-menu-item>
                      <span>المضاف لها عرض</span>
                      <label class="p-0 m-0">
                  <input class="toggle-checkbox" type="checkbox">
                  <div class="toggle-switch"></div>
                </label>
                    </div>
                    <div class="filterMenuItem" nz-menu-item>
                      <span>المنتجات المميزة</span>
                      <label class="p-0 m-0">
                  <input class="toggle-checkbox" type="checkbox">
                  <div class="toggle-switch"></div>
                </label>
                    </div>
                    <div class="filterMenuItem" nz-menu-item>
                      <span>المنتجات المعطلة</span>
                      <label class="p-0 m-0">
                  <input class="toggle-checkbox" type="checkbox">
                  <div class="toggle-switch"></div>
                </label>
                    </div>
                    <div class="filterMenuItem noBgColor" nz-menu-item>
                      <nz-form-label class="me-2">الضرائب</nz-form-label>
                        <nz-select [ngModel]="" style="width: 100%;">
                        </nz-select>
                    </div>
                    <div class="filterMenuItem noBgColor" nz-menu-item>
                      <nz-form-label class="me-2">قناة المبيعات</nz-form-label>
                        <nz-select [ngModel]="" style="width: 100%;">
                        </nz-select>
                    </div>
                    <div class="filterMenuItem noBgColor" nz-menu-item>
                      <nz-form-label class="me-2">العلامة التجارية</nz-form-label>
                        <nz-select [ngModel]="" style="width: 100%;">
                        </nz-select>
                    </div>
                    <div class="filterMenuItem noBgColor" nz-menu-item>
                      <nz-form-label class="me-2">الباركود</nz-form-label>
                        <nz-select [ngModel]="" style="width: 100%;">
                        </nz-select>
                    </div>
                    <div class="filterMenuItem noBgColor" nz-menu-item>
                      <nz-form-label class="me-2">العلامة التجارية</nz-form-label>
                        <nz-select [ngModel]="" style="width: 100%;">
                        </nz-select>
                    </div>
                    <div class="buttons">
                      <button nz-button nzType="default" nzPrimary>عودة للأصل</button>
                      <button nz-button nzType="primary" nzPrimary>بحث</button>
                    </div>
                  </div>
                </nz-dropdown-menu>
              </div>
              <div class="show">
                <button class="select-all-shape" nz-button nz-dropdown [nzDropdownMenu]="viewBy"  [nzTrigger]="'click'" >
                  <span nz-icon nzType="arrows-alt" nzTheme="outline"></span>
                  اظهار بحسب
                </button>
                <nz-dropdown-menu #viewBy="nzDropdownMenu">
                  <ul class="showMenu" nz-menu>
                    <li class="showMenuItem" nz-menu-item>
                      <a>الأحدث</a>
                    </li>
                    <li class="showMenuItem" nz-menu-item>
                      <a>الأقدم</a>
                    </li>
                    <li class="showMenuItem" nz-menu-item>
                      <a>الأعلى سعراً</a>
                    </li>
                    <li class="showMenuItem" nz-menu-item>
                      <a>الأقل سعراً</a>
                    </li>
                  </ul>
                </nz-dropdown-menu>
              </div>
            </div>
          </div>
          <div class="filter-buttons">
            <button class="select-all-shape" nzType="dashed" nz-checkbox  [(ngModel)]="checked"
              [nzIndeterminate]="indeterminate" (nzCheckedChange)="onAllChecked($event)">
              تحديد الكل</button>
            <div class="action-menu">
              <button class=" select-all-shape" nz-button nz-dropdown [nzDropdownMenu]="actions"  [nzTrigger]="'click'" >
                إجراءات مشتركة
                <span nz-icon nzType="down"></span>
              </button>
              <nz-dropdown-menu #actions="nzDropdownMenu">
                <ul class="actionMenu" nz-menu>
                  <li class="actionMenuItem" nz-menu-item>
                    <a><span class="actions-icon" nz-icon nzType="edit" nzTheme="outline"></span> تعديل الكل</a>
                  </li>
                  <li class="actionMenuItem" nz-menu-item>
                    <a>
                      <span class="actions-icon d-inline">
                        <img src="../../assets/images/toggle-left.svg" style="width: 22px;" alt="">
                      </span> تفعيل المحدد
                    </a>
                  </li>
                  <li class="actionMenuItem" nz-menu-item>
                    <a><span class="actions-icon" nz-icon nzType="copy" nzTheme="outline"></span> استيراد المنتجات</a>
                  </li>
                  <li class="actionMenuItem" nz-menu-item>
                    <a><span class="actions-icon" nz-icon nzType="up-circle" nzTheme="outline"></span> تصدير المنتجات</a>
                  </li>
                  <li class="actionMenuItem" nz-menu-item>
                    <a style="color:#E93C3C"><span class="actions-icon" nz-icon nzType="delete" nzTheme="outline"></span>
                      حذف الكل</a>
                  </li>
                </ul>
              </nz-dropdown-menu>
            </div>
          </div>
        </div>
        <nz-table
        #outBordered
        #rowSelectionTable
        [nzData]="product"
        (nzCurrentPageDataChange)="onCurrentPageDataChange($event)">
          <thead>
            <tr>
              <th></th>
              <th class="textStart">المنتج</th>
              <th>الضريبة</th>
              <th>التصنيف</th>
              <th>تتبع المخزون</th>
              <th>الكمية المتوفرة</th>
              <th>السعر</th>
              <th>تفعيل المنتج</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let data of product">
              <td [nzChecked]="setOfCheckedId.has(data.id)" (nzCheckedChange)="onItemChecked(data.id, $event)"
                [nzSelections]="data.checked"></td>
              <td class="textStart">
                <div class="productInfo">
                  <img nz-image width="40px" height="40px" [nzSrc]="data.imageUrl" [nzPlaceholder]="placeholder" />
                  <div class="name">
                    <p>{{ data.name }}</p>
                    {{ data.id2 }}
                  </div>
                </div>
              </td>
              <td>
                {{data.tax}}
              </td>
              <td>{{data.category}}</td>
              <td><span *ngIf="data.inventory" nz-icon nzType="check" nzTheme="outline" style="color:green"></span>
                <span *ngIf="!data.inventory" nz-icon nzType="close" nzTheme="outline" style="color:red"></span>
              </td>
              <td>{{data.quantity}}</td>
              <td>{{data.price | currency:'$'}}</td>
              <td>
                <label class="p-0 m-0">
                  <input class="toggle-checkbox" type="checkbox" [(ngModel)]="data.activate">
                  <div class="toggle-switch"></div>
                </label>
              </td>
              <td class="description"><span nz-icon nzType="small-dash" nzTheme="outline"></span> {{data.details}}</td>
            </tr>
          </tbody>
        </nz-table>
      </div>
    </nz-content>
  </nz-layout>
  